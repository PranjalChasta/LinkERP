<!--<div class="loading" *ngIf="Loading">Loading&#8230;</div>-->
<div class="loading" *ngIf="Loading"><i class="fa fa-spinner fa-spin" style="font-size:24px"></i></div>
<form [formGroup]="ChangePasswordForm" name="ChangePasswordForm" (ngSubmit)="OnChangePassword()" class="Form-Horizontal" style="width:100%">
  <div class="login-page">
    <div class="container">
      <figure class="float-left w-100 text-center pt-3 pb-3"><img src="assets/images/LinkLogoLogin.jpg" alt="Link Business Solutions - ERP" /></figure>

      <div class="login-form">
        <h1>Change Password</h1>
        <div class="alert alert-success" *ngIf="Alert == 'Success'" role="alert">
          Password Changed Successfully
        </div>
        <div *ngIf="Alert == 'Error'" class="alert alert-danger" role="alert">
          Invalid Password
        </div>
        <div *ngIf="Alert  != 'Success'">
          <div class="form-group">
            <label>Current Password</label>
            <input type="password" class="form-control" formControlName="CurrentPassword" [ngClass]="{ 'is-invalid': this.Submitted && f.CurrentPassword.errors}">
            <div class="errorlbl" *ngIf="Submitted && f.CurrentPassword.errors?.required">
              Please enter Current password
            </div>
          </div>
          <div class="form-group">
            <label>New Password</label>
            <input type="password" class="form-control" formControlName="NewPassword"  [ngClass]="{ 'is-invalid': this.Submitted && f.NewPassword.errors}">
            <div class="errorlbl" *ngIf="Submitted && f.NewPassword.errors?.required">
              Please enter New password
            </div>
          </div>
          <div class="form-group">
            <label>Confirm New Password</label>
            <input type="password" class="form-control" formControlName="ConfirmNewPassword" appConfirmEqualValidator="NewPassword" [ngClass]="{ 'is-invalid': this.Submitted && f.ConfirmNewPassword.errors}">
            <div class="errorlbl" *ngIf="Submitted && f.ConfirmNewPassword.errors?.required">
              Please enter Confirm password
            </div>
            <div class="errorlbl" *ngIf="Submitted && f.ConfirmNewPassword.errors?.notEqual">
              Confirm Password not matched
            </div>
          </div>
          <div class="form-group">
            <button type="submit" class="btn add-btn">Change Password</button>
          </div>
        </div>
        <div class="form-group" *ngIf="Alert == 'Success'">
          <button type="button" class="btn add-btn" (click)="Relogin()">Ok</button>
        </div>
      </div>
    </div>
  </div>
</form>
