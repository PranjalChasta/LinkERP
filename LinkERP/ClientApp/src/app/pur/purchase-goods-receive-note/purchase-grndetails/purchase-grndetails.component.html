<h1>Purchase GRN Details</h1>
<!-- <div class="loading" *ngIf="Loading"><i class="fa fa-spinner fa-spin" style="font-size:24px"></i></div> -->
<form [formGroup]="PurchaseGRNDetailsForm" name="PurchaseGRNDetailsForm" (ngSubmit)="onSave()"
      class="Form-Horizontal" *ngIf="Mode=='List' || Mode=='Add'">
  <div class="card">
    <div class="card-body pb-0">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              Purchase GRNDetails
              <div class="add-row">
                <button (click)="AddNew()" type="button" class="btn add-btn mb-1">Add Purchase GRNDetails</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="Purchasechanges">
        <div class="row">
          <div class="form-group">
            <label class="col-form-label">Purchase Order<span class="mandatoryFieldColor">*</span> </label>
            <select class="form-control" formControlName="PurchaseOrderID" (change)="onpurchaseOderChange($event.target.value)"
                    [ngClass]="{ 'is-invalid': this.submitted && f.PurchaseOrderID.errors?.notEqual}">
              <option value="-1">--Select purchaseOrder--</option>
              <option *ngFor="let order of purchaseOrder" [value]="order.id">
                {{order.purchaseOrderNumber}}
              </option>
            </select>
          </div>
          <div class="errorlbl" *ngIf="this.submitted && f.PurchaseOrderID.errors?.notEqual">
            Please select purchase order
          </div>
        </div>
        <div>
          <button type="submit" class="btn add-btn mb-1">Save</button>&nbsp;
          <!-- <button type="button" class="btn add-btn mb-1" (click)="Mutilpledata($event)" >AgSave</button> -->
        </div>
      </div>

      <div class="card-body position-relative">
        <div class="ag-theme-balham" style="width: 100%; height:500px;">
          <!-- <app-ag-grid *ngIf="AgLoad" [ColumnDefs]="this.ColumnDefs" [RowData]="this.RowData" [IsSearch]="true"
            [IsExport]="true"   [IsEditable]="true" [paginationPageSize]="10" (OnActionClick)="OnActionClick($event)">
          </app-ag-grid> -->
          <app-ag-grid *ngIf="AgLoad" [ColumnDefs]="this.ColumnDefs" [RowData]="this.RowData" [IsSearch]="true"
                       [IsExport]="true" [IsEditable]="true"
                       [IsColumnsToFit]="false"
                       [Currentpage]="this.Currentpage"
                       (OnchangeCurrentpage)="OnchangeCurrentpage($event)"
                       [paginationPageSize]="this.PageSize"
                       (OnPageSizeChange)="OnPageSizeChange($event)"
                       (OnActionClick)="OnActionClick($event)" (OnEditStoped)="OnEditStoped($event)">
          </app-ag-grid>
        </div>
        <div class="form-group text-center">
          <button type="button" class="btn add-btn mb-1" type="button" (click)="Mutilpledata()">Save Changes</button>
        </div>
      </div>

    </div>
  </div>
</form>
